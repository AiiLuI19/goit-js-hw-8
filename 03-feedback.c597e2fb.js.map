{"mappings":"AASA,SAAAA,kBAAAC,EAAAC,ioCAAA,IAAMC,KAAOC,SAASC,cAAc,kBAC9BC,YAAc,sBAkBT,SAAFC,uBACL,IAAMC,EAAeC,aAAaC,QAAQJ,aAEtCE,GAEAG,OAAOC,QAAQC,KAAKC,MAAON,IAAeO,SAAQ,SAAAC,6BAAEC,EAAIC,EAAA,GAAEC,EAAKD,EAAA,GAC/Df,KAAKiB,SAASH,GAAME,MAAQA,KAOD,SAA1BE,aAAaC,GAClBA,EAAIC,iBACP,IAAMC,EAAWf,aAAaC,QAAQJ,aAChCkB,IACHC,QAAQC,IAAIb,KAAKC,MAAMU,IAEvBrB,KAAKwB,QACPlB,aAAamB,WAAWtB,cArC1BH,KAAK0B,iBAAiB,SAAUR,cAEhCd,uBACAJ,KAAK0B,iBAAiB,SAAS,SAAAP,GAE5B,IACgBQ,EADQC,EAAAT,EAAIU,OAApBf,EAAgBc,EAAhBd,KAAME,EAAUY,EAAVZ,MACTK,EAAwD,QAA7CM,EAAAjB,KAAKC,MAAML,aAAaC,QAAQJ,qBAAa,IAA7CwB,EAAAA,EAAiD,GAChEN,EAASP,GAAQE,EAEnBV,aAAawB,QAAQ3B,YAAaO,KAAKqB,UAAUV","sources":["src/js/03-feedback.js"],"sourcesContent":["\n// В HTML есть разметка формы. Напиши скрипт который будет сохранять значения полей в локальное\n//  хранилище когда пользователь что - то печатает.\n\n\n\n// 1.Отслеживай на форме событие input, и каждый раз записывай в локальное \n// хранилище объект с полями email и message, в которых сохраняй текущие значения полей формы.\n// Пусть ключом для хранилища будет строка \"feedback-form-state\".\nconst refs = document.querySelector(\".feedback-form\")\nconst STORAGE_KEY = \"feedback-form-state\";\nrefs.addEventListener(\"submit\", onFormSubmit)\n\npopulateMassageInput ()\nrefs.addEventListener('input', evt => {\n  \n   const { name, value } = evt.target;\n    let saveData = JSON.parse(localStorage.getItem(STORAGE_KEY)) ?? {};\n    saveData[name] = value;\n\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(saveData));\n});\n\n// 2.При загрузке страницы проверяй состояние хранилища, и если там есть \n// сохраненные данные, заполняй ими поля формы.В противном случае поля должны \n// быть пустыми.\n\n\nfunction populateMassageInput() {\n    const savedMessage = localStorage.getItem(STORAGE_KEY);\n\n    if (savedMessage) {\n        \n        Object.entries(JSON.parse (savedMessage)).forEach(([name, value]) => {\n        refs.elements[name].value = value;\n    })\n    }\n}\n// 3.При сабмите формы очищай хранилище и поля формы, а также выводи объект с \n// полями email, message и текущими их значениями в консоль.\n\nfunction onFormSubmit(evt) {\n    evt.preventDefault()\n const saveData = localStorage.getItem(STORAGE_KEY);\n  if (!saveData) return;\n    console.log(JSON.parse(saveData));\n \n    refs.reset();\n  localStorage.removeItem(STORAGE_KEY);\n}\n\n\n// 4.Сделай так, чтобы хранилище обновлялось не чаще чем раз в 500 миллисекунд. Для этого добавь в проект и используй библиотеку lodash.throttle."],"names":["_arrayLikeToArray","arr","len","refs","document","querySelector","STORAGE_KEY","populateMassageInput","savedMessage","localStorage","getItem","Object","entries","JSON","parse","forEach","param","name","_param","value","elements","onFormSubmit","evt","preventDefault","saveData","console","log","reset","removeItem","addEventListener","ref","_target","target","setItem","stringify"],"version":3,"file":"03-feedback.c597e2fb.js.map"}